<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>HackTheBox - Sunday Writeup - SHAFIQAIMAN</title><meta name="Description" content="shafiqaiman.com is a cybersecurity/ethical hacking website that focus on publishing of writeup in HacktheBox, Tryhackme and other online CTF (capture the flag) challenge."><meta property="og:title" content="HackTheBox - Sunday Writeup" />
<meta property="og:description" content="Nmap Like always, I’m going to scan the IP Address by using nmap but I’m going to scan the full port first. Then, I’m going to scan the only open ports.
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 nmap -p79,111,515,6787,22022 -sCV -oN nmap/sunday 10." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://shafiqaiman.com/posts/htb/sunday/" /><meta property="og:image" content="https://shafiqaiman.com/posts/htb/sunday/featured.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-03T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-12-03T00:00:00+00:00" /><meta property="og:site_name" content="SHAFIQAIMAN" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://shafiqaiman.com/posts/htb/sunday/featured.png"/>
<meta name="twitter:title" content="HackTheBox - Sunday Writeup"/>
<meta name="twitter:description" content="Nmap Like always, I’m going to scan the IP Address by using nmap but I’m going to scan the full port first. Then, I’m going to scan the only open ports.
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 nmap -p79,111,515,6787,22022 -sCV -oN nmap/sunday 10."/>
<meta name="application-name" content="SHAFIQAIMAN">
<meta name="apple-mobile-web-app-title" content="SHAFIQAIMAN"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://shafiqaiman.com/posts/htb/sunday/" /><link rel="prev" href="https://shafiqaiman.com/posts/htb/valentine/" /><link rel="next" href="https://shafiqaiman.com/posts/htb/oopsie/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "HackTheBox - Sunday Writeup",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/shafiqaiman.com\/posts\/htb\/sunday\/"
        },"genre": "posts","keywords": "finger, finger-user-enum, ssh, file-misconfiguration, path-abused, john, privesc-wget","wordcount":  821 ,
        "url": "https:\/\/shafiqaiman.com\/posts\/htb\/sunday\/","datePublished": "2022-12-03T00:00:00+00:00","dateModified": "2022-12-03T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "SHAFIQAIMAN"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('dark' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'dark' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="SHAFIQAIMAN">SH∆FIQ∆IM∆N</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/" title="Posts"><i class="fa-solid fa-book"></i>  </a><a class="menu-item" href="/tags/" title="Tags"><i class="fa-solid fa-tags"></i>  </a><a class="menu-item" href="/categories/" title="Categories"><i class="fa-solid fa-folder"></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="SHAFIQAIMAN">SH∆FIQ∆IM∆N</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="Posts"><i class="fa-solid fa-book"></i></a><a class="menu-item" href="/tags/" title="Tags"><i class="fa-solid fa-tags"></i></a><a class="menu-item" href="/categories/" title="Categories"><i class="fa-solid fa-folder"></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">HackTheBox - Sunday Writeup</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://shafiqaiman.com" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>SHAFIQAIMAN</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="03-12-2022">03-12-2022</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;821 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;4 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#nmap">Nmap</a></li>
    <li><a href="#finger-user-enumeration">Finger: User enumeration</a></li>
    <li><a href="#foothold-ssh">Foothold: SSH</a>
      <ul>
        <li><a href="#backup-shadowbackup">Backup: Shadow.backup</a></li>
      </ul>
    </li>
    <li><a href="#privesc-wget">PrivEsc: Wget</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="nmap">Nmap</h2>
<p>Like always, I’m going to scan the IP Address by using <a href="https://nmap.org/" target="_blank" rel="noopener noreffer ">nmap</a> but I’m going to scan the full port first. Then, I’m going to scan the only open ports.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="n">nmap</span><span class="w"> </span><span class="o">-</span><span class="n">p79</span><span class="p">,</span><span class="mi">111</span><span class="p">,</span><span class="mi">515</span><span class="p">,</span><span class="mi">6787</span><span class="p">,</span><span class="mi">22022</span><span class="w"> </span><span class="o">-</span><span class="n">sCV</span><span class="w"> </span><span class="o">-</span><span class="k">oN</span><span class="w"> </span><span class="n">nmap</span><span class="o">/</span><span class="n">sunday</span><span class="w"> </span><span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">.</span><span class="mi">76</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="mi">79</span><span class="o">/</span><span class="n">tcp</span><span class="w">    </span><span class="k">open</span><span class="w">  </span><span class="n">finger</span><span class="o">?</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">fingerprint</span><span class="o">-</span><span class="n">strings</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="n">GenericLines</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">     </span><span class="k">No</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">logged</span><span class="w"> </span><span class="k">on</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="n">GetRequest</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">     </span><span class="n">Login</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="n">TTY</span><span class="w"> </span><span class="n">Idle</span><span class="w"> </span><span class="k">When</span><span class="w"> </span><span class="k">Where</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">     </span><span class="n">HTTP</span><span class="o">/</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="w"> </span><span class="o">???</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="n">HTTPOptions</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">     </span><span class="n">Login</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="n">TTY</span><span class="w"> </span><span class="n">Idle</span><span class="w"> </span><span class="k">When</span><span class="w"> </span><span class="k">Where</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">     </span><span class="n">HTTP</span><span class="o">/</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="w"> </span><span class="o">???</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">     </span><span class="k">OPTIONS</span><span class="w"> </span><span class="o">???</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="n">Help</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">     </span><span class="n">Login</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="n">TTY</span><span class="w"> </span><span class="n">Idle</span><span class="w"> </span><span class="k">When</span><span class="w"> </span><span class="k">Where</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">     </span><span class="n">HELP</span><span class="w"> </span><span class="o">???</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="n">RTSPRequest</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">     </span><span class="n">Login</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="n">TTY</span><span class="w"> </span><span class="n">Idle</span><span class="w"> </span><span class="k">When</span><span class="w"> </span><span class="k">Where</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">     </span><span class="k">OPTIONS</span><span class="w"> </span><span class="o">???</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">     </span><span class="n">RTSP</span><span class="o">/</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="w"> </span><span class="o">???</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="n">SSLSessionReq</span><span class="p">,</span><span class="w"> </span><span class="n">TerminalServerCookie</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="n">_</span><span class="w">    </span><span class="n">Login</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="n">TTY</span><span class="w"> </span><span class="n">Idle</span><span class="w"> </span><span class="k">When</span><span class="w"> </span><span class="k">Where</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="n">_finger</span><span class="p">:</span><span class="w"> </span><span class="k">No</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">logged</span><span class="w"> </span><span class="k">on</span><span class="err">\</span><span class="n">x0D</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="mi">111</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="k">open</span><span class="w">  </span><span class="n">rpcbind</span><span class="w">  </span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="w"> </span><span class="p">(</span><span class="n">RPC</span><span class="w"> </span><span class="o">#</span><span class="mi">100000</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="mi">515</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="k">open</span><span class="w">  </span><span class="n">printer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="mi">6787</span><span class="o">/</span><span class="n">tcp</span><span class="w">  </span><span class="k">open</span><span class="w">  </span><span class="n">ssl</span><span class="o">/</span><span class="n">http</span><span class="w"> </span><span class="n">Apache</span><span class="w"> </span><span class="n">httpd</span><span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="mi">4</span><span class="p">.</span><span class="mi">33</span><span class="w"> </span><span class="p">((</span><span class="n">Unix</span><span class="p">)</span><span class="w"> </span><span class="n">OpenSSL</span><span class="o">/</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="n">o</span><span class="w"> </span><span class="n">mod_wsgi</span><span class="o">/</span><span class="mi">4</span><span class="p">.</span><span class="mi">5</span><span class="p">.</span><span class="mi">1</span><span class="w"> </span><span class="n">Python</span><span class="o">/</span><span class="mi">2</span><span class="p">.</span><span class="mi">7</span><span class="p">.</span><span class="mi">14</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">ssl</span><span class="o">-</span><span class="n">cert</span><span class="p">:</span><span class="w"> </span><span class="n">Subject</span><span class="p">:</span><span class="w"> </span><span class="n">commonName</span><span class="o">=</span><span class="n">sunday</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">Subject</span><span class="w"> </span><span class="n">Alternative</span><span class="w"> </span><span class="n">Name</span><span class="p">:</span><span class="w"> </span><span class="n">DNS</span><span class="p">:</span><span class="n">sunday</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="k">Not</span><span class="w"> </span><span class="k">valid</span><span class="w"> </span><span class="k">before</span><span class="p">:</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">08</span><span class="n">T19</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">00</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="n">_Not</span><span class="w"> </span><span class="k">valid</span><span class="w"> </span><span class="k">after</span><span class="p">:</span><span class="w">  </span><span class="mi">2031</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">06</span><span class="n">T19</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">00</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">http</span><span class="o">-</span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="n">Solaris</span><span class="w"> </span><span class="n">Dashboard</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="n">_Requested</span><span class="w"> </span><span class="n">resource</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">.</span><span class="mi">10</span><span class="p">.</span><span class="mi">76</span><span class="p">:</span><span class="mi">6787</span><span class="o">/</span><span class="n">solaris</span><span class="o">/</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="n">_http</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">header</span><span class="p">:</span><span class="w"> </span><span class="n">Apache</span><span class="o">/</span><span class="mi">2</span><span class="p">.</span><span class="mi">4</span><span class="p">.</span><span class="mi">33</span><span class="w"> </span><span class="p">(</span><span class="n">Unix</span><span class="p">)</span><span class="w"> </span><span class="n">OpenSSL</span><span class="o">/</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="n">o</span><span class="w"> </span><span class="n">mod_wsgi</span><span class="o">/</span><span class="mi">4</span><span class="p">.</span><span class="mi">5</span><span class="p">.</span><span class="mi">1</span><span class="w"> </span><span class="n">Python</span><span class="o">/</span><span class="mi">2</span><span class="p">.</span><span class="mi">7</span><span class="p">.</span><span class="mi">14</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">tls</span><span class="o">-</span><span class="n">alpn</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="n">_</span><span class="w">  </span><span class="n">http</span><span class="o">/</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="n">_ssl</span><span class="o">-</span><span class="nb">date</span><span class="p">:</span><span class="w"> </span><span class="n">TLS</span><span class="w"> </span><span class="n">randomness</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">represent</span><span class="w"> </span><span class="n">time</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="mi">22022</span><span class="o">/</span><span class="n">tcp</span><span class="w"> </span><span class="k">open</span><span class="w">  </span><span class="n">ssh</span><span class="w">      </span><span class="n">OpenSSH</span><span class="w"> </span><span class="mi">7</span><span class="p">.</span><span class="mi">5</span><span class="w"> </span><span class="p">(</span><span class="n">protocol</span><span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="n">ssh</span><span class="o">-</span><span class="n">hostkey</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">   </span><span class="mi">2048</span><span class="w"> </span><span class="n">aa0094321860a4933b87a4b6f802680e</span><span class="w"> </span><span class="p">(</span><span class="n">RSA</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="n">_</span><span class="w">  </span><span class="mi">256</span><span class="w"> </span><span class="n">da2a6cfa6bb1ea161da654a10b2bee48</span><span class="w"> </span><span class="p">(</span><span class="n">ED25519</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>The nmap scan result is completed. There are a bunch of open ports. As far I as know, I&rsquo;ve never seen port <code>79</code> before which is <a href="https://www.grc.com/port_79.htm" target="_blank" rel="noopener noreffer ">finger</a> as the service name, and <code>SSH</code> on port <code>22022</code>. However, on port <code>6787</code> the nmap found the <code>hostname</code> on the <code>ssl-cert</code> scripts scan. The hostname called <code>sunday</code> and I&rsquo;m going to add it to the <code>/etc/hosts</code> file.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/htb/sunday/etc-hosts.png"
        data-srcset="/posts/htb/sunday/etc-hosts.png, /posts/htb/sunday/etc-hosts.png 1.5x, /posts/htb/sunday/etc-hosts.png 2x"
        data-sizes="auto"
        alt="/posts/htb/sunday/etc-hosts.png"
        title="etc hosts file" width="364" height="134" /></p>
<h2 id="finger-user-enumeration">Finger: User enumeration</h2>
<p>The port <code>79</code> really bothering me, I did some research on google about this service and I stumble upon <a href="https://pentestmonkey.net/tools/user-enumeration/finger-user-enum" target="_blank" rel="noopener noreffer ">pentestmonkey</a> website. Which is a tool called <code>finger-user-enum</code> that&rsquo;s written in <code>Perl</code> for enumerating users. This happens because the <code>finger</code> program is designed for remote users to obtain information about the user on a specific computer by querying their machine&rsquo;s <code>finger</code> server. So, I ended up executing it with the file that contains the username that can be located in <code>/usr/share/seclists/Usernames/Names/names.txt</code> or it can be downloaded from <a href="https://raw.githubusercontent.com/danielmiessler/SecLists/master/Usernames/Names/names.txt" target="_blank" rel="noopener noreffer ">here</a>.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/htb/sunday/run-finger-user-enum.png"
        data-srcset="/posts/htb/sunday/run-finger-user-enum.png, /posts/htb/sunday/run-finger-user-enum.png 1.5x, /posts/htb/sunday/run-finger-user-enum.png 2x"
        data-sizes="auto"
        alt="/posts/htb/sunday/run-finger-user-enum.png"
        title="finger user enum" width="957" height="466" /></p>
<h2 id="foothold-ssh">Foothold: SSH</h2>
<p>The scan is completed and the output is very verbose and confusing. However, there is <code>two</code> user that completely catches my eye which is <code>sammy</code> and <code>sunny</code>. These users have something to do with <code>SSH</code> and I assumed they can be used to login into <code>SSH</code>. Unfortunately, I don&rsquo;t have any credentials for these users.  Based on the machine that I&rsquo;ve been playing <a href="https://shafiqaiman.com/hackthebox-nibbles-writeup/" target="_blank" rel="noopener noreffer ">before</a> it is worth trying the password with the machine name. In this case, is <code>sunday</code>, I&rsquo;ll try both of the users and I manage login in as <code>sunny</code>.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/htb/sunday/ssh-sunny.png"
        data-srcset="/posts/htb/sunday/ssh-sunny.png, /posts/htb/sunday/ssh-sunny.png 1.5x, /posts/htb/sunday/ssh-sunny.png 2x"
        data-sizes="auto"
        alt="/posts/htb/sunday/ssh-sunny.png"
        title="ssh sunny" width="643" height="287" /></p>
<p>Now, I have the credential for this user which is <code>sunny</code>. Then, it&rsquo;s time to check the <code>sudo</code> permission with the <code>sudo -l</code> command. Turns out, it can run the <code>troll</code> file in the <code>/root</code> directory with sudo privilege and I executed it, but its only display the user id.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/htb/sunday/run-sudo-troll.png"
        data-srcset="/posts/htb/sunday/run-sudo-troll.png, /posts/htb/sunday/run-sudo-troll.png 1.5x, /posts/htb/sunday/run-sudo-troll.png 2x"
        data-sizes="auto"
        alt="/posts/htb/sunday/run-sudo-troll.png"
        title="sudo troll" width="547" height="227" /></p>
<p>So, I&rsquo;ve assumed in this file contains the <code>id</code> binary and I&rsquo;ll try to abuse it by creating a fake id binary that contains the payload for set <code>/bin/bash</code> as <code>SUID</code> just like <a href="https://shafiqaiman.com/hackthebox-oopsie-writeup/#relative-path-abused" target="_blank" rel="noopener noreffer ">HTB - Oopsie</a>. Then, I export the path and execute it but nothing happens. It sounds like a troll. ;)</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/htb/sunday/path-abused-with-id.png"
        data-srcset="/posts/htb/sunday/path-abused-with-id.png, /posts/htb/sunday/path-abused-with-id.png 1.5x, /posts/htb/sunday/path-abused-with-id.png 2x"
        data-sizes="auto"
        alt="/posts/htb/sunday/path-abused-with-id.png"
        title="path abused" width="688" height="290" /></p>
<h3 id="backup-shadowbackup">Backup: Shadow.backup</h3>
<p>With further enumeration, I manage to find the directory called <code>/backup</code> located in the root directory. Shockingly, inside of it, contains <code>two</code> files that have an interesting extension to it but I am keener towards the file called <code>shadow.backup</code>. Upon reading out the content, I manage to find another user <code>hash</code> which is <code>sammy</code>. Without further ado, I&rsquo;m asking <a href="https://www.openwall.com/john/" target="_blank" rel="noopener noreffer ">john</a> what this hash means and he gives me the answer straight away.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/htb/sunday/john-sammy.png"
        data-srcset="/posts/htb/sunday/john-sammy.png, /posts/htb/sunday/john-sammy.png 1.5x, /posts/htb/sunday/john-sammy.png 2x"
        data-sizes="auto"
        alt="/posts/htb/sunday/john-sammy.png"
        title="john the ripper sammy" width="402" height="186" /></p>
<h2 id="privesc-wget">PrivEsc: Wget</h2>
<p>I&rsquo;m in as a <code>sammy</code> user. Like always, I&rsquo;m going to check the sudo permission of this user. Turns out, this user can run <code>wget</code>  with sudo privileges. Something little off here, the permission says <code>(ALL) ALL</code> and when I executed <code>sudo su</code>, I&rsquo;ve become the <code>root</code> user. So, what&rsquo;s the point of the <code>wget</code> then? *ngl it makes me confused a bit*.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/htb/sunday/ssh-sammy.png"
        data-srcset="/posts/htb/sunday/ssh-sammy.png, /posts/htb/sunday/ssh-sammy.png 1.5x, /posts/htb/sunday/ssh-sammy.png 2x"
        data-sizes="auto"
        alt="/posts/htb/sunday/ssh-sammy.png"
        title="ssh sammy" width="605" height="267" /></p>
<p>However, I think I never use <code>wget</code> to privilege escalation before and I&rsquo;m going to try it. Upon searching on google, I manage to find this <a href="https://www.hackingarticles.in/linux-for-pentester-wget-privilege-escalation/" target="_blank" rel="noopener noreffer ">article</a> under the title <code>&quot;Exploiting Sudo rights&quot;</code>, turns out, I can read the file with <code>wget</code> by using the <code>--post-file</code> option and catching it with <code>nc</code>. Since the sudo permission makes me confused, I&rsquo;m going to copy the <code>sudoers</code> file and change it to <code>&quot;ALL=(root) NOPASSWD: ALL&quot;</code> under <code>sammy</code> permissions. Then, send it back to the victim.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/htb/sunday/me-root.png"
        data-srcset="/posts/htb/sunday/me-root.png, /posts/htb/sunday/me-root.png 1.5x, /posts/htb/sunday/me-root.png 2x"
        data-sizes="auto"
        alt="/posts/htb/sunday/me-root.png"
        title="me root" width="1499" height="789" /></p>
<p>I&rsquo;m hoping it makes sense. Anyways, I&rsquo;m ROOT BABY!!!!</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 03-12-2022</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://shafiqaiman.com/posts/htb/sunday/" data-title="HackTheBox - Sunday Writeup" data-via="_shafiqaiman_" data-hashtags="finger,finger-user-enum,ssh,file-misconfiguration,path-abused,john,privesc-wget"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Linkedin" data-sharer="linkedin" data-url="https://shafiqaiman.com/posts/htb/sunday/"><i class="fab fa-linkedin fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://shafiqaiman.com/posts/htb/sunday/" data-title="HackTheBox - Sunday Writeup"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Reddit" data-sharer="reddit" data-url="https://shafiqaiman.com/posts/htb/sunday/"><i class="fab fa-reddit fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/finger/">finger</a>,&nbsp;<a href="/tags/finger-user-enum/">finger-user-enum</a>,&nbsp;<a href="/tags/ssh/">ssh</a>,&nbsp;<a href="/tags/file-misconfiguration/">file-misconfiguration</a>,&nbsp;<a href="/tags/path-abused/">path-abused</a>,&nbsp;<a href="/tags/john/">john</a>,&nbsp;<a href="/tags/privesc-wget/">privesc-wget</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/htb/valentine/" class="prev" rel="prev" title="HackTheBox - Valentine Writeup"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>HackTheBox - Valentine Writeup</a>
            <a href="/posts/htb/oopsie/" class="next" rel="next" title="HackTheBox - Oopsie Writeup">HackTheBox - Oopsie Writeup<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2021 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://shafiqaiman.com" target="_blank">SHAFIQAIMAN</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
